<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÊÄ•Ë®∫ÂàÜÁ¥öÁ≥ªÁµ± | Emergency Triage System</title>
    <style>
        body {
            font-family: sans-serif;
            background: #90EE90;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            position: relative;
        }
        .app {
            background: #fff;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            max-width: 700px;
            width: 100%;
        }
        .language-selector {
            text-align: center;
            margin-bottom: 1.5rem;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 1rem;
        }
        .language-selector button {
            padding: 0.5rem 1rem;
            margin: 0 0.25rem;
            font-size: 1rem;
            border: 2px solid #007bff;
            background: #f8f9fa;
            color: #007bff;
            border-radius: 5px;
            cursor: pointer;
        }
        .language-selector button.active {
            background: #007bff;
            color: white;
        }
        .question {
            font-size: 1.8rem;
            margin-bottom: 1rem;
            line-height: 1.4;
            min-height: 3em;
        }
        .buttons button {
            padding: 1rem 1.5rem;
            margin: 0 0.5rem 0.5rem 0;
            font-size: 1.2rem;
            border: 2px solid #007bff;
            background: #007bff;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            min-width: 80px;
            touch-action: manipulation;
        }
        .buttons button:hover {
            background: #0056b3;
        }
        .buttons button:active {
            transform: scale(0.98);
        }
        
        @media (max-width: 768px) {
            .app {
                margin: 1rem;
                padding: 1.5rem;
            }
            .question {
                font-size: 1.6rem;
            }
            .buttons {
                display: flex;
                flex-direction: column;
                gap: 1rem;
            }
            .buttons button {
                width: 100%;
                margin: 0;
                padding: 1.2rem;
                font-size: 1.3rem;
            }
            .attribution {
                bottom: 10px;
                right: 10px;
                font-size: 0.8rem;
            }
        }
        .result {
            margin-top: 2rem;
            font-size: 1.3rem;
            font-weight: bold;
            text-align: center;
            padding: 1rem;
            border-radius: 8px;
        }
        .result.critical {
            background: #ffe6e6;
            color: #d73027;
            border: 2px solid #d73027;
        }
        .result.urgent {
            background: #fff3cd;
            color: #856404;
            border: 2px solid #ffc107;
        }
        .result.non-urgent {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
        }
        .attribution {
            position: fixed;
            bottom: 20px;
            right: 20px;
            color: black;
            font-size: 0.9rem;
            font-weight: normal;
        }
        .restart-btn {
            margin-top: 1rem;
            padding: 0.8rem 1.5rem;
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
        }
        .restart-btn:hover {
            background: #5a6268;
        }
    </style>
</head>
<body>
<div class="app">
    <div class="language-selector">
        <button onclick="changeLanguage('zh')" class="active" id="lang-zh">‰∏≠Êñá</button>
        <button onclick="changeLanguage('en')" id="lang-en">English</button>
        <button onclick="changeLanguage('id')" id="lang-id">Bahasa Indonesia</button>
        <button onclick="changeLanguage('th')" id="lang-th">‡πÑ‡∏ó‡∏¢</button>
    </div>
    
    <div id="question-container">
        <div id="question" class="question"></div>
        <div class="buttons">
            <button onclick="answer('yes')" id="btn-yes">ÊòØ</button>
            <button onclick="answer('no')" id="btn-no">Âê¶</button>
            <button onclick="answer('unsure')" id="btn-unsure">‰∏çÁ¢∫ÂÆö</button>
        </div>
    </div>
    <div id="result" class="result" style="display:none;">
        <div id="result-text"></div>
        <button class="restart-btn" onclick="restart()" id="btn-restart">ÈáçÊñ∞ÈñãÂßã</button>
    </div>
</div>
<div class="attribution">by Dr.ÈªÉÁ´ãÂ£¨</div>

<script>
let currentLanguage = 'zh';

const translations = {
    zh: {
        yes: "ÊòØ",
        no: "Âê¶", 
        unsure: "‰∏çÁ¢∫ÂÆö",
        restart: "ÈáçÊñ∞ÈñãÂßã",
        critical: "üö® Âç±ÊÄ•ÔºöË´ãÁ´ãÂç≥ÂâçÂæÄÊÄ•Ë®∫ËôïÁêÜ„ÄÇ",
        urgent: "‚ö†Ô∏è Ê≥®ÊÑèÔºöË´ãÂÑòÈÄüÊé•ÂèóÈÜ´ÁôÇË©ï‰º∞„ÄÇ",
        nonUrgent: "‚úÖ ÈùûÁ∑äÊÄ•ÔºöÊÇ®ÁöÑÁãÄÊ≥ÅÁõÆÂâçÁÇ∫ÈùûÁ∑äÊÄ•ÔºåË´ãËÄêÂøÉÁ≠âÂÄô„ÄÇ"
    },
    en: {
        yes: "Yes",
        no: "No",
        unsure: "Unsure",
        restart: "Restart",
        critical: "üö® CRITICAL: Seek immediate emergency care.",
        urgent: "‚ö†Ô∏è URGENT: Please seek medical evaluation promptly.",
        nonUrgent: "‚úÖ NON-URGENT: Your condition is currently non-urgent, please wait patiently."
    },
    id: {
        yes: "Ya",
        no: "Tidak",
        unsure: "Tidak Yakin",
        restart: "Mulai Ulang",
        critical: "üö® KRITIS: Segera cari perawatan darurat.",
        urgent: "‚ö†Ô∏è MENDESAK: Harap segera mencari evaluasi medis.",
        nonUrgent: "‚úÖ TIDAK MENDESAK: Kondisi Anda saat ini tidak mendesak, harap bersabar menunggu."
    },
    th: {
        yes: "‡πÉ‡∏ä‡πà",
        no: "‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà",
        unsure: "‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à",
        restart: "‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà",
        critical: "üö® ‡∏ß‡∏¥‡∏Å‡∏§‡∏ï: ‡πÇ‡∏õ‡∏£‡∏î‡πÑ‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ",
        urgent: "‚ö†Ô∏è ‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô: ‡πÇ‡∏õ‡∏£‡∏î‡πÑ‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏ó‡∏¢‡πå‡πÇ‡∏î‡∏¢‡πÄ‡∏£‡πá‡∏ß",
        nonUrgent: "‚úÖ ‡πÑ‡∏°‡πà‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô: ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô ‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏î‡∏ó‡∏ô"
    }
};

const questions = [
    {
        zh: "ÂøÉË∑≥„ÄÅÂëºÂê∏ÂÅúÊ≠¢ÔºåËÇ¢È´îÂèäÂò¥ÂîáÁôºÈùí„ÄÅÁôºÁ¥´Ôºü",
        en: "Heart stopped, breathing stopped, limbs and lips turning blue or purple?",
        id: "Jantung berhenti, napas berhenti, anggota badan dan bibir membiru atau ungu?",
        th: "‡∏´‡∏±‡∏ß‡πÉ‡∏à‡∏´‡∏¢‡∏∏‡∏î‡πÄ‡∏ï‡πâ‡∏ô ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏´‡∏¢‡∏∏‡∏î ‡πÅ‡∏Ç‡∏ô‡∏Ç‡∏≤‡πÅ‡∏•‡∏∞‡∏£‡∏¥‡∏°‡∏ù‡∏µ‡∏õ‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏°‡πà‡∏ß‡∏á?",
        category: "Âç±ÊÄ•", weight: 10
    },
    {
        zh: "È´îÊ∫´Ë∂ÖÈÅé41‚ÑÉÊàñ‰ΩéÊñº32‚ÑÉÔºü",
        en: "Body temperature above 41¬∞C or below 32¬∞C?", 
        id: "Suhu tubuh di atas 41¬∞C atau di bawah 32¬∞C?",
        th: "‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ 41¬∞C ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 32¬∞C?",
        category: "Âç±ÊÄ•", weight: 10
    },
    {
        zh: "ÁÑ°ÊÑèË≠ò„ÄÅÂè™ËÉΩÂëªÂêüÊàñË™™ÂñÆ‰∏ÄÂ≠óÂè•Ôºü",
        en: "Unconscious, can only moan or say single words?",
        id: "Tidak sadar, hanya bisa mengerang atau mengucapkan kata tunggal?",
        th: "‡∏´‡∏°‡∏î‡∏™‡∏ï‡∏¥ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏£‡∏ß‡∏ç‡∏Ñ‡∏£‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏π‡∏î‡∏Ñ‡∏≥‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô?",
        category: "Âç±ÊÄ•", weight: 10
    },
    {
        zh: "ÊåÅÁ∫åÊäΩÊêê‰∏îÁÑ°ÊÑèË≠òÔºü",
        en: "Continuous seizures and unconscious?",
        id: "Kejang terus-menerus dan tidak sadar?",
        th: "‡∏ä‡∏±‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏î‡∏™‡∏ï‡∏¥?",
        category: "Âç±ÊÄ•", weight: 10
    },
    {
        zh: "ÊåÅÁ∫åËÉ∏ÊÇ∂„ÄÅËÉ∏Áóõ‰∏îÂÜíÂÜ∑Ê±óÔºü",
        en: "Persistent chest tightness, chest pain with cold sweats?",
        id: "Sesak dada terus-menerus, nyeri dada dengan keringat dingin?",
        th: "‡πÅ‡∏ô‡πà‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‡πÄ‡∏à‡πá‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏Å‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏´‡∏á‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å‡πÄ‡∏¢‡πá‡∏ô?",
        category: "Âç±ÊÄ•", weight: 9
    },
    {
        zh: "Â§ßÈáèË°Ä‰æø„ÄÅÈªë‰æø„ÄÅÂòîË°ÄÔºü",
        en: "Large amounts of bloody stool, black stool, or vomiting blood?",
        id: "BAB berdarah dalam jumlah besar, BAB hitam, atau muntah darah?",
        th: "‡∏≠‡∏∏‡∏à‡∏à‡∏≤‡∏£‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å ‡∏≠‡∏∏‡∏à‡∏à‡∏≤‡∏£‡∏∞‡∏™‡∏µ‡∏î‡∏≥ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏≠‡∏≤‡πÄ‡∏à‡∏µ‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏î?",
        category: "Âç±ÊÄ•", weight: 9
    },
    {
        zh: "È†≠È†∏ËªÄÂππÈ™®ÁõÜÈÉ®‰ΩçÂ§ßÈáèÂá∫Ë°ÄÔºü",
        en: "Massive bleeding from head, neck, torso, or pelvis?",
        id: "Perdarahan hebat di kepala, leher, batang tubuh, atau panggul?",
        th: "‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏Å‡∏à‡∏≤‡∏Å‡∏®‡∏µ‡∏£‡∏©‡∏∞ ‡∏Ñ‡∏≠ ‡∏•‡∏≥‡∏ï‡∏±‡∏ß ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ä‡∏¥‡∏á‡∏Å‡∏£‡∏≤‡∏ô?",
        category: "Âç±ÊÄ•", weight: 9
    },
    {
        zh: "È´òËôïÂ¢úËêΩ„ÄÅËªäÁ¶çÂ∞éËá¥Â§±ÂéªÊÑèË≠òÔºü",
        en: "Fall from height or car accident causing loss of consciousness?",
        id: "Jatuh dari ketinggian atau kecelakaan mobil yang menyebabkan kehilangan kesadaran?",
        th: "‡∏ï‡∏Å‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏´‡∏°‡∏î‡∏™‡∏ï‡∏¥?",
        category: "Âç±ÊÄ•", weight: 9
    },
    {
        zh: "Á™ÅÁôºÊÄßË¶ñË¶∫ÊîπËÆäÔºü",
        en: "Sudden vision changes?",
        id: "Perubahan penglihatan mendadak?",
        th: "‡∏Å‡∏≤‡∏£‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏∞‡∏ó‡∏±‡∏ô‡∏´‡∏±‡∏ô?",
        category: "Âç±ÊÄ•", weight: 8
    },
    {
        zh: "ÂÖçÁñ´ÂäüËÉΩ‰∏çÂÖ®‰∏îÁôºÁáíÔºü",
        en: "Immunocompromised and having fever?",
        id: "Sistem kekebalan tubuh lemah dan demam?",
        th: "‡∏†‡∏π‡∏°‡∏¥‡∏Ñ‡∏∏‡πâ‡∏°‡∏Å‡∏±‡∏ô‡∏ö‡∏Å‡∏û‡∏£‡πà‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡πÑ‡∏Ç‡πâ?",
        category: "Âç±ÊÄ•", weight: 8
    },
    {
        zh: "ÊúÉÈô∞ÈÉ®Á©øÂà∫ÂÇ∑ËàáÂ§ßÈáèÂá∫Ë°Ä„ÄÅÁîüÊÆñÂô®ËÖ´ËÑπËÆäÂΩ¢Ôºü",
        en: "Perineal puncture wound with massive bleeding, genital swelling or deformity?",
        id: "Luka tusuk di perineum dengan perdarahan hebat, pembengkakan atau deformitas genital?",
        th: "‡∏ö‡∏≤‡∏î‡πÅ‡∏ú‡∏•‡∏ó‡∏∞‡∏•‡∏∏‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏ù‡∏µ‡πÄ‡∏¢‡πá‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏Å ‡∏≠‡∏ß‡∏±‡∏¢‡∏ß‡∏∞‡πÄ‡∏û‡∏®‡∏ö‡∏ß‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏¥‡∏î‡∏£‡∏π‡∏õ?",
        category: "Âç±ÊÄ•", weight: 9
    },
    {
        zh: "ÂåñÂ≠∏Áâ©Ë≥™Êø∫ÂÖ•ÁúºÁùõÔºü",
        en: "Chemical splash in eyes?",
        id: "Bahan kimia terciprat ke mata?",
        th: "‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ‡∏Å‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏≤?",
        category: "Âç±ÊÄ•", weight: 8
    },
    {
        zh: "Â§ñÂÇ∑ÂæåÂá∫ÁèæÂãï‰ΩúÊàñÊÑüË¶∫Áï∞Â∏∏Ôºü",
        en: "Abnormal movement or sensation after trauma?",
        id: "Gerakan atau sensasi abnormal setelah trauma?",
        th: "‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏∏‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏´‡∏ï‡∏∏?",
        category: "Âç±ÊÄ•", weight: 8
    },
    {
        zh: "Âö¥ÈáçÈÅéÊïèÊàñËó•Áâ©ÂèçÊáâÂ∞éËá¥ÂëºÂê∏Âõ∞Èõ£Ôºü",
        en: "Severe allergic or drug reaction causing breathing difficulty?",
        id: "Reaksi alergi atau obat yang parah menyebabkan kesulitan bernapas?",
        th: "‡∏õ‡∏è‡∏¥‡∏Å‡∏¥‡∏£‡∏¥‡∏¢‡∏≤‡πÅ‡∏û‡πâ‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏è‡∏¥‡∏Å‡∏¥‡∏£‡∏¥‡∏¢‡∏≤‡∏ï‡πà‡∏≠‡∏¢‡∏≤‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏•‡∏≥‡∏ö‡∏≤‡∏Å?",
        category: "Âç±ÊÄ•", weight: 9
    },
    {
        zh: "Ëû´ÂÇ∑ÊàñÂí¨ÂÇ∑Â∞éËá¥ÂëºÂê∏Âõ∞Èõ£ÊàñÊÑèË≠òÊîπËÆäÔºü",
        en: "Sting or bite causing breathing difficulty or consciousness changes?",
        id: "Sengatan atau gigitan menyebabkan kesulitan bernapas atau perubahan kesadaran?",
        th: "‡∏ñ‡∏π‡∏Å‡∏ï‡πà‡∏≠‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏±‡∏î‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏•‡∏≥‡∏ö‡∏≤‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏ï‡∏¥‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á?",
        category: "Âç±ÊÄ•", weight: 9
    },
    {
        zh: "Ëµ∞ÂãïÊôÇÂëºÂê∏ÊÄ•‰øÉÔºü",
        en: "Shortness of breath when walking?",
        id: "Sesak napas saat berjalan?",
        th: "‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏´‡∏≠‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏¥‡∏ô?",
        category: "Ê≥®ÊÑè", weight: 7
    },
    {
        zh: "Á∂ìÊúüÈÄæÊúü‰∏îËÖπÁóõÔºü",
        en: "Overdue menstrual period with abdominal pain?",
        id: "Menstruasi terlambat dan nyeri perut?",
        th: "‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏°‡∏≤‡∏ä‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏õ‡∏ß‡∏î‡∏ó‡πâ‡∏≠‡∏á?",
        category: "Ê≥®ÊÑè", weight: 6
    },
    {
        zh: "ÁÑ°Ê≥ïÊéßÂà∂ÁöÑËÖπÁÄâÊàñÂòîÂêêÔºü",
        en: "Uncontrollable diarrhea or vomiting?",
        id: "Diare atau muntah yang tidak terkontrol?",
        th: "‡∏ó‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡πÄ‡∏à‡∏µ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ?",
        category: "Ê≥®ÊÑè", weight: 6
    },
    {
        zh: "È™®ÊäòÊàñËÑ´ËáºÔºü",
        en: "Fracture or dislocation?",
        id: "Patah tulang atau dislokasi?",
        th: "‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡∏´‡∏±‡∏Å‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏Ñ‡∏•‡πá‡∏î?",
        category: "Ê≥®ÊÑè", weight: 6
    },
    {
        zh: "ÂíñÂï°Ëâ≤ÂòîÂêêÁâ©ÊàñÈªë‰æøÔºü",
        en: "Coffee-colored vomit or black stool?",
        id: "Muntah berwarna kopi atau BAB hitam?",
        th: "‡∏≠‡∏≤‡πÄ‡∏à‡∏µ‡∏¢‡∏ô‡∏™‡∏µ‡∏Å‡∏≤‡πÅ‡∏ü‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏∏‡∏à‡∏à‡∏≤‡∏£‡∏∞‡∏™‡∏µ‡∏î‡∏≥?",
        category: "Ê≥®ÊÑè", weight: 6
    },
    {
        zh: "È´òË°ÄÂ£ìÔºà>200/110Ôºâ‰ΩÜÁÑ°ÁóáÁãÄÔºü",
        en: "High blood pressure (>200/110) but no symptoms?",
        id: "Tekanan darah tinggi (>200/110) tapi tanpa gejala?",
        th: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏ô‡πÇ‡∏•‡∏´‡∏¥‡∏ï‡∏™‡∏π‡∏á (>200/110) ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£?",
        category: "Ê≥®ÊÑè", weight: 5
    },
    {
        zh: "ÊäΩÊêêÂæåÊÑèË≠òÂ∑≤ÊÅ¢Âæ©Ôºü",
        en: "Consciousness recovered after seizure?",
        id: "Kesadaran pulih setelah kejang?",
        th: "‡∏™‡∏ï‡∏¥‡∏ü‡∏∑‡πâ‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ä‡∏±‡∏Å?",
        category: "Ê≥®ÊÑè", weight: 5
    },
    {
        zh: "Âª£Ê≥õÊÄßÁ¥ÖÁñπ/Ê∞¥Ê≥°Ôºü",
        en: "Widespread rash/blisters?",
        id: "Ruam/lepuh yang meluas?",
        th: "‡∏ú‡∏∑‡πà‡∏ô‡πÅ‡∏î‡∏á/‡∏ï‡∏∏‡πà‡∏°‡∏ô‡πâ‡∏≥‡πÅ‡∏û‡∏£‡πà‡∏Å‡∏ß‡πâ‡∏≤‡∏á?",
        category: "Ê≥®ÊÑè", weight: 5
    },
    {
        zh: "ÊØíÊ∞£ÊàñÊ∞£È´îÂê∏ÂÖ•‰ΩÜÁÑ°ÂëºÂê∏Á™òËø´Ôºü",
        en: "Toxic gas inhalation but no respiratory distress?",
        id: "Menghirup gas beracun tapi tidak sesak napas?",
        th: "‡∏™‡∏π‡∏î‡∏Å‡πä‡∏≤‡∏ã‡∏û‡∏¥‡∏©‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏¢‡πÉ‡∏à‡∏•‡∏≥‡∏ö‡∏≤‡∏Å?",
        category: "Ê≥®ÊÑè", weight: 5
    },
    {
        zh: "ÊÄ•Áî¢ÔºàÂÆÆÁ∏Æ >2 ÂàÜÈêòÔºâÔºü",
        en: "Precipitous labor (contractions >2 minutes)?",
        id: "Persalinan cepat (kontraksi >2 menit)?",
        th: "‡∏Ñ‡∏•‡∏≠‡∏î‡πÄ‡∏£‡πá‡∏ß (‡∏´‡∏î‡∏°‡∏î‡∏•‡∏π‡∏Å >2 ‡∏ô‡∏≤‡∏ó‡∏µ)?",
        category: "Ê≥®ÊÑè", weight: 7
    },
    {
        zh: "Â±ÄÈÉ®ËúÇÁ™©ÊÄßÁµÑÁπîÁÇéÔºü",
        en: "Localized cellulitis?",
        id: "Selulitis lokal?",
        th: "‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏¢‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏Å‡πÄ‡∏™‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ó‡∏µ‡πà?",
        category: "ÈùûÁ∑äÊÄ•", weight: 3
    },
    {
        zh: "Ëß£Â∞øÁñºÁóõ‰ΩÜÊ≤íÊúâÁôºÁáíÔºü",
        en: "Painful urination but no fever?",
        id: "Nyeri buang air kecil tapi tidak demam?",
        th: "‡∏õ‡∏±‡∏™‡∏™‡∏≤‡∏ß‡∏∞‡πÄ‡∏à‡πá‡∏ö‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏Ç‡πâ?",
        category: "ÈùûÁ∑äÊÄ•", weight: 2
    },
    {
        zh: "Èô∞ÈÅìÈªûÁãÄÂá∫Ë°ÄÔºü",
        en: "Vaginal spotting?",
        id: "Bercak darah vagina?",
        th: "‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏≠‡∏≠‡∏Å‡∏ó‡∏≤‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏Ñ‡∏•‡∏≠‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏à‡∏∏‡∏î?",
        category: "ÈùûÁ∑äÊÄ•", weight: 2
    },
    {
        zh: "ËºïÂæÆËÖπÁÄâ‰∏îÁÑ°ËÑ´Ê∞¥Ôºü",
        en: "Mild diarrhea without dehydration?",
        id: "Diare ringan tanpa dehidrasi?",
        th: "‡∏ó‡πâ‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ç‡∏≤‡∏î‡∏ô‡πâ‡∏≥?",
        category: "ÈùûÁ∑äÊÄ•", weight: 1
    },
    {
        zh: "ÊÖ¢ÊÄßËÖπÊ∞¥Ê¨≤ÊäΩËÖπÊ∞¥Ôºü",
        en: "Chronic ascites requiring drainage?",
        id: "Asites kronis memerlukan drainase?",
        th: "‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ó‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏∑‡πâ‡∏≠‡∏£‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥?",
        category: "ÈùûÁ∑äÊÄ•", weight: 2
    },
    {
        zh: "ÂèçË¶ÜÊÄßÁñºÁóõÊàñÊöàÁú©Ôºü",
        en: "Recurrent pain or dizziness?",
        id: "Nyeri atau pusing berulang?",
        th: "‡∏õ‡∏ß‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏ß‡∏µ‡∏¢‡∏ô‡∏´‡∏±‡∏ß‡∏ã‡πâ‡∏≥‡πÜ?",
        category: "ÈùûÁ∑äÊÄ•", weight: 2
    },
    {
        zh: "ÈóúÁØÄËÖ´„ÄÅËºïÂæÆÊì¶ÂÇ∑ÊàñÁòÄÈùíÔºü",
        en: "Joint swelling, minor abrasions or bruising?",
        id: "Pembengkakan sendi, lecet ringan atau memar?",
        th: "‡∏Ç‡πâ‡∏≠‡∏ö‡∏ß‡∏° ‡∏£‡∏≠‡∏¢‡∏ñ‡∏•‡∏≠‡∏Å‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏≠‡∏¢‡∏ä‡πâ‡∏≥?",
        category: "ÈùûÁ∑äÊÄ•", weight: 1
    }
];

let current = 0;
let total = 0;
let answers = [];

function changeLanguage(lang) {
    currentLanguage = lang;
    
    // Update language buttons
    document.querySelectorAll('.language-selector button').forEach(btn => {
        btn.classList.remove('active');
    });
    document.getElementById('lang-' + lang).classList.add('active');
    
    // Update button texts
    updateButtonTexts();
    
    // Update current question if showing
    if (current < questions.length) {
        showQuestion();
    }
}

function updateButtonTexts() {
    document.getElementById('btn-yes').textContent = translations[currentLanguage].yes;
    document.getElementById('btn-no').textContent = translations[currentLanguage].no;
    document.getElementById('btn-unsure').textContent = translations[currentLanguage].unsure;
    document.getElementById('btn-restart').textContent = translations[currentLanguage].restart;
}

function showQuestion() {
    document.getElementById('question').textContent = questions[current][currentLanguage];
}

function answer(response) {
    answers.push({ ...questions[current], response });
    if (response === 'yes') total += questions[current].weight;

    if (response === 'yes' && questions[current].category === 'Âç±ÊÄ•') {
        return showResult("Âç±ÊÄ•");
    }

    current++;
    if (current < questions.length) {
        showQuestion();
    } else {
        showResult();
    }
}

function showResult(overrideLevel = null) {
    document.getElementById('question-container').style.display = 'none';
    const resultDiv = document.getElementById('result');
    const resultText = document.getElementById('result-text');

    let finalLevel = overrideLevel;
    if (!finalLevel) {
        const hasCritical = answers.some(q => q.response === 'yes' && q.category === "Âç±ÊÄ•");
        const hasWarning = answers.some(q => q.response === 'yes' && q.category === "Ê≥®ÊÑè");

        if (hasCritical || total >= 25) finalLevel = "Âç±ÊÄ•";
        else if (hasWarning || total >= 15) finalLevel = "Ê≥®ÊÑè";
        else finalLevel = "ÈùûÁ∑äÊÄ•";
    }

    // Clear previous classes
    resultDiv.className = 'result';
    
    if (finalLevel === "Âç±ÊÄ•") {
        resultText.textContent = translations[currentLanguage].critical;
        resultDiv.classList.add('critical');
    } else if (finalLevel === "Ê≥®ÊÑè") {
        resultText.textContent = translations[currentLanguage].urgent;
        resultDiv.classList.add('urgent');
    } else {
        resultText.textContent = translations[currentLanguage].nonUrgent;
        resultDiv.classList.add('non-urgent');
    }

    resultDiv.style.display = 'block';
}

function restart() {
    current = 0;
    total = 0;
    answers = [];
    document.getElementById('question-container').style.display = 'block';
    document.getElementById('result').style.display = 'none';
    showQuestion();
}

// Initialize
updateButtonTexts();
showQuestion();
</script>
</body>
</html>
